<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <title>Contagem</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <style>
    /* Bloqueia todo scroll e bounce */
    html,
    body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      overflow: hidden !important;
      overscroll-behavior: none;
      font-family: Arial, sans-serif;
      color: #fff;
      text-align: center;
    }

    /* Container fixo de fundo por baixo de tudo */
    #bg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
      background: radial-gradient(ellipse at bottom, #0b0c2a 0%, #000 100%);
      overflow: hidden;
    }

    /* Anima√ß√µes dentro do #bg */
    .estrela,
    .cometa,
    .nuvem,
    .heart {
      position: absolute;
      will-change: transform, opacity;
    }

    /* Estrelas piscando */
    .estrela {
      width: 2px;
      height: 2px;
      background: #fff;
      border-radius: 50%;
      animation: brilhar 2s ease-in-out infinite;
      opacity: .8;
    }

    @keyframes brilhar {

      0%,
      100% {
        opacity: .2
      }

      50% {
        opacity: 1
      }
    }

    /* Cometas */
    .cometa {
      width: 150px;
      height: 2px;
      background: linear-gradient(90deg, transparent, #fff);
      opacity: .6;
      transform: rotate(60deg);
      animation: queda 10s ease-in-out infinite;
    }

    @keyframes queda {
      0% {
        transform: translate(-150px, -150px) rotate(55deg);
        opacity: 0
      }

      20% {
        opacity: 1
      }

      100% {
        transform: translate(100vw, 100vh) rotate(55deg);
        opacity: 0
      }
    }

    /* Nuvens */
    .nuvem {
      width: 200px;
      height: 60px;
      background: #fff;
      border-radius: 100px;
      opacity: .05;
      box-shadow: 30px 0 0 #fff, 60px 10px 0 #fff, 90px 0 0 #fff;
      animation: moverNuvem linear infinite;
    }

    @keyframes moverNuvem {
      0% {
        left: -300px
      }

      100% {
        left: 100vw
      }
    }

    /* Cora√ß√µes e palavras */
    .heart {
      font-size: 24px;
      opacity: .8;
      z-index: 0;
      animation: float 8s linear infinite;
    }

    @keyframes float {
      0% {
        transform: translateY(100vh) scale(1);
        opacity: 0
      }

      50% {
        opacity: 1
      }

      100% {
        transform: translateY(-10vh) scale(1.5);
        opacity: 0
      }
    }

    /* Conte√∫do em cima do fundo */
    #app {
      position: relative;
      z-index: 1;
      width: 100%;
      height: 100%;
    }

    /* Contador central */
    #contador-container {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 2;
    }

    #foto-com-borda {
      padding: 8px;
      border-radius: 12px;
      background: linear-gradient(45deg, #ffffff, #ffffff00, #ffffff);
      background-size: 600% 600%;
      animation: gradiente 10s ease infinite;
      display: inline-block;
      margin-bottom: 20px;
      padding-bottom: 80px;
    }

    @keyframes gradiente {
      0% {
        background-position: 0 50%
      }

      50% {
        background-position: 100% 50%
      }

      100% {
        background-position: 0 50%
      }
    }

    #foto-com-borda img {
      width: 300px;
      height: 300px;
      object-fit: cover;
      border-radius: 8px;
    }

    #contador {
      font-size: 1.2rem;
      font-weight: bold;
      background: linear-gradient(90deg, #ffffff, #ffffff, #fff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: gradiente 5s ease infinite;
      text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.6);
    }

    /* Visualizador de √°udio fixo */
    #container-visualizador {
      position: fixed;
      bottom: 60px;
      left: 0;
      right: 0;
      width: 100%;
      max-width: 550px;
      height: 240px;
      margin: 0 auto;
      z-index: 3;
      pointer-events: none;
      will-change: transform;
    }

    #visualizador {
      width: 100%;
      height: 100%;
      display: block;
      pointer-events: none;
      will-change: contents;
    }

    .carrossel-container {
      width: 100%;
      max-width: 320px;
      overflow: hidden;
      margin: 20px auto 0;
      position: relative;
    }

    .carrossel {
      display: flex;
      transition: transform 0.5s ease-in-out;
    }

    .carrossel img {
      width: 100%;
      flex-shrink: 0;
      border-radius: 12px;
      object-fit: cover;
    }

    .indicadores {
      display: flex;
      justify-content: center;
      gap: 8px;
      margin-top: 10px;
    }

    .indicadores span {
      width: 8px;
      height: 8px;
      background: #ffffff44;
      border-radius: 50%;
      display: inline-block;
      transition: background 0.3s ease;
    }

    .indicadores span.ativo {
      background: #fff;
    }


    h1 {
      font-size: 1rem;
      margin-bottom: 10px;
      text-shadow: 1px 1px 4px #000;
    }

    h1::before {
      content: "üíó";
      margin-right: 8px;
      animation: pulse 1s infinite;
    }

    @keyframes pulse {
      0% {
        transform: scale(1)
      }

      50% {
        transform: scale(1.3)
      }

      100% {
        transform: scale(1)
      }
    }

    @media only screen and (max-width: 600px) {

      /* para telas at√© 600px de largura (mobile) */
      #container-visualizador {
        bottom: -15px;
        /* desce o visualizador um pouco mais */
      }
    }
  </style>
</head>

<body>

  <!-- Fundo animado -->
  <div id="bg"></div>

  <!-- Aplica√ß√£o (conte√∫do) -->
  <div id="app">
    <!-- √Åudio -->
    <audio id="player" autoplay loop crossorigin="anonymous">
      <source src="https://unwickbr.github.io/qr-code-site/Ter√ßa.mp3" type="audio/mpeg">
    </audio>

    <!-- Carrossel de fotos -->
    <div class="carrossel-container">
      <div class="carrossel" id="carrossel">
        <img src="https://unwickbr.github.io/qr-code-site/Image.jpg" alt="1">
        <img src="https://unwickbr.github.io/qr-code-site/Image2.jpg" alt="2">
        <img src="https://unwickbr.github.io/qr-code-site/Image3.jpg" alt="3">
        <img src="https://unwickbr.github.io/qr-code-site/Image4.jpg" alt="4">
      </div>
      <div class="indicadores" id="indicadores">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>

    <!-- Visualizador de √°udio -->
    <div id="container-visualizador">
      <canvas id="visualizador" width="300" height="240"></canvas>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const bg = document.getElementById('bg');

      // Estrelas
      for (let i = 0; i < 150; i++) {
        const s = document.createElement('div');
        s.className = 'estrela';
        s.style.top = Math.random() * 100 + 'vh';
        s.style.left = Math.random() * 100 + 'vw';
        s.style.animationDuration = 1 + Math.random() * 2 + 's';
        bg.appendChild(s);
      }
      // Cometas
      for (let i = 0; i < 5; i++) {
        const c = document.createElement('div');
        c.className = 'cometa';
        c.style.top = Math.random() * 2 + 'vh';
        c.style.left = -200 - Math.random() * 100 + 'px';
        c.style.animationDelay = Math.random() * 20 + 's';
        bg.appendChild(c);
      }
      // Nuvens
      for (let i = 0; i < 7; i++) {
        const n = document.createElement('div');
        n.className = 'nuvem';
        n.style.top = (2 + Math.random() * 80) + 'vh';
        n.style.transform = 'scale(' + (0.5 + Math.random() * 1.5) + ')';
        n.style.animationDuration = 60 + Math.random() * 40 + 's';
        bg.appendChild(n);
      }
      // Cora√ß√µes e textos
      const emojis = ['üíñ', 'üíò', 'üíó', '‚ù§Ô∏è', 'üíï', 'üíû'];
      const textos = ['Linda', 'Maravilhosa', 'Deusa', 'Perfeita', 'Gatona', 'Meu amor', '0 defeitos', 'Te amo üíñ'];
      for (let i = 0; i < 25; i++) {
        const h = document.createElement('div');
        h.className = 'heart';
        h.textContent = Math.random() < 0.5
          ? emojis[Math.floor(Math.random() * emojis.length)]
          : textos[Math.floor(Math.random() * textos.length)];
        h.style.left = Math.random() * 100 + 'vw';
        h.style.fontSize = 10 + Math.random() * 20 + 'px';
        h.style.animationDuration = 5 + Math.random() * 5 + 's';
        h.style.animationDelay = Math.random() * 5 + 's';
        h.style.color = `rgb(${Math.random() * 255 | 0},${Math.random() * 255 | 0},${Math.random() * 255 | 0})`;
        bg.appendChild(h);
      }

      // Visualizador de √°udio
      const audio = document.getElementById('player');
      audio.volume = 0.5;
      const canvas = document.getElementById('visualizador');
      const ctx = canvas.getContext('2d');
      const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
      const source = audioCtx.createMediaElementSource(audio);
      const analyser = audioCtx.createAnalyser();
      analyser.fftSize = 32;
      source.connect(analyser);
      analyser.connect(audioCtx.destination);
      const dataArray = new Uint8Array(analyser.frequencyBinCount);

      function draw() {
        requestAnimationFrame(draw);
        analyser.getByteFrequencyData(dataArray);
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        const barW = 5.5, gap = 4, n = 30, cx = canvas.width / 2;
        for (let i = 0; i < n / 2; i++) {
          const h = (dataArray[i] / 255) * canvas.height * 0.1;
          const y = (canvas.height - h) / 2 - 95;
          ctx.fillStyle = '#fff';
          ctx.fillRect(cx + i * (barW + gap), y, barW, h);
          ctx.fillRect(cx - (i + 1) * (barW + gap), y, barW, h);
        }
      }
      window.addEventListener('click', () => {
        if (audioCtx.state === 'suspended') audioCtx.resume();
        audio.play();
      });
      draw();

      // Contador
      function atualizarContador() {
        const inicio = new Date('2025-04-30T00:00:00');
        const agora = new Date();
        const diferenca = agora - inicio;

        if (diferenca < 0) {
          document.getElementById("contador").textContent = "A data ainda n√£o chegou.";
          return;
        }

        let segundosTotais = Math.floor(diferenca / 1000);

        const meses = Math.floor(segundosTotais / (60 * 60 * 24 * 30));
        segundosTotais %= (60 * 60 * 24 * 30);

        const dias = Math.floor(segundosTotais / (60 * 60 * 24));
        segundosTotais %= (60 * 60 * 24);

        const horas = Math.floor(segundosTotais / 3600);
        segundosTotais %= 3600;

        const minutos = Math.floor(segundosTotais / 60);
        const segundos = segundosTotais % 60;

        document.getElementById("contador").textContent =
          `${meses}M ${dias}d ${horas}hr ${minutos}min ${segundos}s`;
      }
      atualizarContador();
      setInterval(atualizarContador, 1000);
    });
  </script>
</body>

</html>
